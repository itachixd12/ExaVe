<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClÃ­nica Veterinaria Pet Care</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800">
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const rol = localStorage.getItem('rol');
            if (rol === 'admin') {
                window.location.href = 'admin-citas.html';
            }
            if (rol === 'cliente') {
                document.getElementById('usuario-menu').style.display = '';
            }
        });
    </script>

    <!-- Header -->
    <header class="bg-gradient-to-r from-green-600 to-blue-600 text-white shadow-lg">
        <div class="container mx-auto px-6 py-6">
            <div class="flex flex-row justify-between items-center">
                <div class="flex items-center space-x-3">
                    <span class="text-4xl">ğŸ¾</span>
                    <h1 class="text-4xl font-bold">ClÃ­nica Veterinaria Pet Care</h1>
                </div>
                <nav id="menu" class="hidden md:flex md:items-center md:space-x-6">
                    <ul class="flex space-x-6">
                        <li><a href="index-veterinaria.html" class="hover:text-green-200">Inicio</a></li>
                        <li><a href="#servicios" class="hover:text-green-200">Servicios</a></li>
                        <li><a href="ubicacion.html" class="hover:text-green-200">ğŸ“ UbicaciÃ³n</a></li>
                        <li><a href="contacto.html" class="hover:text-green-200">Contacto</a></li>
                        <li id="usuario-menu" style="display:none;">
                            <a href="mis-citas.html" class="hover:text-green-200">Mis Citas</a>
                        </li>
                        <li id="usuario-menu" style="display:none;">
                            <a href="mis-mascotas.html" class="hover:text-green-200">Mis Mascotas</a>
                        </li>
                    </ul>
                    <button onclick="logout()" class="ml-6 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded">
                        Cerrar sesiÃ³n
                    </button>
                </nav>
                <div id="auth-menu" class="hidden md:flex md:space-x-4">
                    <a href="login.html" class="px-4 py-2 bg-white text-green-600 rounded font-semibold hover:bg-gray-100">
                        Iniciar sesiÃ³n
                    </a>
                    <a href="register.html" class="px-4 py-2 bg-green-700 text-white rounded hover:bg-green-800">
                        Registrarse
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="bg-gradient-to-r from-green-50 to-blue-50 py-16">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-5xl font-bold mb-4 text-gray-800">Bienvenido a Pet Care</h2>
            <p class="text-xl text-gray-600 mb-8">Tu clÃ­nica veterinaria de confianza con los mejores servicios para tus mascotas</p>
            <p class="text-lg text-gray-600">ğŸ“ Horario de atenciÃ³n: <span class="font-bold">8:00 AM - 5:00 PM</span></p>
        </div>
    </section>

    <!-- Servicios -->
    <section id="servicios" class="container mx-auto px-6 py-16">
        <h2 class="text-4xl font-bold mb-12 text-center text-gray-800">Nuestros Servicios</h2>
        <div id="servicios-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- Los servicios se cargarÃ¡n aquÃ­ con JavaScript -->
        </div>
    </section>

    <!-- Call to Action -->
    <section class="bg-green-600 text-white py-12 my-16">
        <div class="container mx-auto px-6 text-center">
            <h3 class="text-3xl font-bold mb-4">Â¿Necesitas agendar una cita?</h3>
            <p class="text-lg mb-6">Haz clic aquÃ­ para agendar una cita para tu mascota</p>
            <a href="agendar-cita.html" class="inline-block px-8 py-3 bg-white text-green-600 font-bold rounded hover:bg-gray-100">
                Agendar Cita
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2024 ClÃ­nica Veterinaria Pet Care. Todos los derechos reservados.</p>
            <p class="mt-2">ğŸ¾ Cuidando de tus mascotas como si fueran nuestras ğŸ¾</p>
        </div>
    </footer>

    <script>
        const API_URL = 'http://127.0.0.1:8000/api';
        const token = localStorage.getItem('authToken');
        const rol = localStorage.getItem('rol');

        // Mostrar/ocultar menÃºs segÃºn autenticaciÃ³n
        document.addEventListener('DOMContentLoaded', function () {
            if (token) {
                document.getElementById('auth-menu').style.display = 'none';
            } else {
                document.getElementById('usuario-menu').style.display = 'none';
            }

            cargarServicios();
        });

        // Cargar servicios
        async function cargarServicios() {
            try {
                const response = await fetch(`${API_URL}/servicios`);
                const servicios = await response.json();

                const container = document.getElementById('servicios-container');
                container.innerHTML = '';

                servicios.forEach(servicio => {
                    const tipoIcons = {
                        'consulta': 'ğŸ‘¨â€âš•ï¸',
                        'vacuna': 'ğŸ’‰',
                        'bano': 'ğŸ›',
                        'cirugia': 'ğŸ¥'
                    };

                    const html = `
                        <div class="bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition">
                            <div class="text-4xl mb-3">${tipoIcons[servicio.tipo] || 'ğŸ¾'}</div>
                            <h3 class="text-xl font-bold text-gray-800 mb-2">${servicio.nombre}</h3>
                            <p class="text-gray-600 text-sm mb-3">${servicio.descripcion || ''}</p>
                            <div class="flex justify-between items-center">
                                <span class="text-2xl font-bold text-green-600">$${parseFloat(servicio.precio).toFixed(2)}</span>
                                <span class="text-sm text-gray-500">${servicio.duracion} min</span>
                            </div>
                        </div>
                    `;
                    container.innerHTML += html;
                });
            } catch (error) {
                console.error('Error al cargar servicios:', error);
                document.getElementById('servicios-container').innerHTML = 
                    '<p class="text-red-600">Error al cargar los servicios</p>';
            }
        }

        // Logout
        function logout() {
            const token = localStorage.getItem('authToken');
            if (token) {
                fetch(`${API_URL}/logout`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer ' + token
                    }
                }).finally(() => {
                    localStorage.removeItem('authToken');
                    localStorage.removeItem('rol');
                    window.location.href = 'index.html';
                });
            }
        }
    </script>
</body>

</html>
